{"ast":null,"code":"import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import React,{useLayoutEffect,useState}from'react';import KeyboardAvoidingView from\"react-native-web/dist/exports/KeyboardAvoidingView\";import ScrollView from\"react-native-web/dist/exports/ScrollView\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import Text from\"react-native-web/dist/exports/Text\";import{TextInputBase}from\"react-native-web/dist/index\";import{TextInputComponent}from\"react-native-web/dist/index\";import TouchableOpacity from\"react-native-web/dist/exports/TouchableOpacity\";import View from\"react-native-web/dist/exports/View\";import TextInput from\"react-native-web/dist/exports/TextInput\";import SafeAreaView from\"react-native-web/dist/exports/SafeAreaView\";import Keyboard from\"react-native-web/dist/exports/Keyboard\";import TouchableWithoutFeedback from\"react-native-web/dist/exports/TouchableWithoutFeedback\";import{Avatar}from'react-native-elements';import{AntDesign,FontAwesome,Ionicons}from\"@expo/vector-icons\";import{StatusBar}from'expo-status-bar';import*as firebase from\"firebase\";import{db,auth}from\"../firebase\";import InvertibleScrollView from\"react-native-invertible-scroll-view\";var ChatScreen=function ChatScreen(_ref){var navigation=_ref.navigation,route=_ref.route;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),input=_useState2[0],setInput=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),messages=_useState4[0],setMessages=_useState4[1];useLayoutEffect(function(){navigation.setOptions({title:\"Chat\",headerBackTitleVisible:false,headerTitleAlign:\"left\",headerTitle:function headerTitle(){var _messages$;return React.createElement(View,{style:{flexDirection:\"row\",alignItems:\"center\"}},React.createElement(Avatar,{rounded:true,source:{uri:((_messages$=messages[0])==null?void 0:_messages$.data.photoURL)||\"https://i.pinimg.com/originals/51/f6/fb/51f6fb256629fc755b8870c801092942.png\"}}),React.createElement(Text,{style:{color:\"blue\",marginLeft:10,fontWeight:\"900\"}},route.params.chatName));},headerLeft:function headerLeft(){return React.createElement(TouchableOpacity,{style:{marginLeft:10},onPress:navigation.goBack},React.createElement(AntDesign,{name:\"banckward\",size:24,color:\"white\"}));},headerRight:function headerRight(){return React.createElement(View,{style:{flexDirection:'row',justifyContent:'space-between',width:80,marginRight:20}},React.createElement(TouchableOpacity,null,React.createElement(FontAwesome,{name:\"video-camera\",size:24,color:\"white\"})),React.createElement(TouchableOpacity,null,React.createElement(Ionicons,{name:\"call\",size:24,color:\"white\"})));}});},[navigation,route,messages]);var sendMessage=function sendMessage(){db.collection('chats').doc(route.params.id).collection('messages').add({timestamp:firebase.firestore.FieldValue.serverTimestamp(),message:input,displayName:auth.currentUser.displayName,email:auth.currentUser.email,photoURL:auth.currentUser.photoURL});setInput('');};useLayoutEffect(function(){var unsubscribe=db.collection('chats').doc(route.params.id).collection('messages').orderBy('timestamp','desc').onSnapshot(function(snapshot){return setMessages(snapshot.docs.map(function(doc){return{id:doc.id,data:doc.data()};}));});console.log(messages);return unsubscribe;},[route]);return React.createElement(SafeAreaView,{style:{flex:1,backgroundColor:\"white\"}},React.createElement(StatusBar,{style:\"light\"}),React.createElement(KeyboardAvoidingView,{behavior:Platform.OS===\"ios\"?\"padding\":\"height\",style:styles.container,keyboardVerticalOffset:90},React.createElement(TouchableWithoutFeedback,{onPress:Keyboard.dismiss},React.createElement(React.Fragment,null,React.createElement(ScrollView,{contentContainerStyle:{paddingTop:15}},messages.map(function(_ref2){var id=_ref2.id,data=_ref2.data;return data.email===auth.currentUser.email?React.createElement(View,{key:id,style:styles.reciever},React.createElement(Avatar,{position:\"absolute\",containerStyle:{position:\"absolute\",bottom:-15,right:-5},bottom:-15,right:-5,size:30,rounded:true,source:{uri:data.photoURL}}),React.createElement(Text,{style:styles.recieverText},data.message)):React.createElement(View,{key:id,style:styles.sender},\" \",React.createElement(Avatar,{position:\"absolute\",containerStyle:{position:\"absolute\",bottom:-15,left:-5},bottom:-15,left:-5,size:30,rounded:true,source:{uri:data.photoURL}}),React.createElement(Text,{style:styles.senderText},data.message),React.createElement(Text,{style:styles.senderName},data.displayName));})),React.createElement(View,{style:styles.footer},React.createElement(TextInput,{value:input,onChangeText:function onChangeText(text){return setInput(text);},placeholder:\"Signal Message\",style:styles.textInput,blurOnSubmit:false,onSubmitEditing:sendMessage}),React.createElement(TouchableOpacity,{onPress:sendMessage},React.createElement(Ionicons,{name:\"send\",size:24,color:\"#2B68E6\"})))))));};export default ChatScreen;var styles=StyleSheet.create({container:{flex:1},reciever:{padding:15,backgroundColor:\"#ECECEC\",alignSelf:\"flex-end\",borderRadius:20,marginRight:15,marginBottom:20,maxWidth:\"80%\",position:\"relative\"},sender:{padding:15,backgroundColor:\"red\",alignSelf:\"flex-start\",borderRadius:20,margin:15,maxWidth:\"80%\",position:\"relative\"},senderText:{color:\"white\",fontWeight:\"500\",marginLeft:10,marginBottom:15},recieverText:{color:\"black\",fontWeight:\"500\",marginLeft:10},senderName:{left:10,paddingRight:10,fontSize:10,color:\"white\"},footer:{flexDirection:\"row\",alignItems:\"center\",width:\"100%\",padding:15},textInput:{bottom:0,height:40,flex:1,marginRight:15,borderColor:\"transparent\",backgroundColor:\"#ECECEC\",padding:10,color:\"blue\",borderRadius:30}});","map":{"version":3,"sources":["/Users/evanepperson/projectFolder/eppApp/screens/ChatScreen.js"],"names":["React","useLayoutEffect","useState","TextInputBase","TextInputComponent","Avatar","AntDesign","FontAwesome","Ionicons","StatusBar","firebase","db","auth","InvertibleScrollView","ChatScreen","navigation","route","input","setInput","messages","setMessages","setOptions","title","headerBackTitleVisible","headerTitleAlign","headerTitle","flexDirection","alignItems","uri","data","photoURL","color","marginLeft","fontWeight","params","chatName","headerLeft","goBack","headerRight","justifyContent","width","marginRight","sendMessage","collection","doc","id","add","timestamp","firestore","FieldValue","serverTimestamp","message","displayName","currentUser","email","unsubscribe","orderBy","onSnapshot","snapshot","docs","map","console","log","flex","backgroundColor","Platform","OS","styles","container","Keyboard","dismiss","paddingTop","reciever","position","bottom","right","recieverText","sender","left","senderText","senderName","footer","text","textInput","StyleSheet","create","padding","alignSelf","borderRadius","marginBottom","maxWidth","margin","paddingRight","fontSize","height","borderColor"],"mappings":"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","sourcesContent":["import React, { useLayoutEffect, useState } from 'react'\nimport { KeyboardAvoidingView, ScrollView, StyleSheet, Text, TextInputBase, TextInputComponent, TouchableOpacity, View, TextInput, SafeAreaView, Keyboard, TouchableWithoutFeedback } from 'react-native'\nimport  {Avatar} from 'react-native-elements'\nimport {AntDesign, FontAwesome, Ionicons} from \"@expo/vector-icons\"\nimport { StatusBar } from 'expo-status-bar'\nimport * as firebase from \"firebase\";\nimport {db, auth} from \"../firebase\";\nimport InvertibleScrollView from \"react-native-invertible-scroll-view\";\n\n\nconst ChatScreen = ({navigation, route}) => {\n\n    const [input, setInput] = useState('');\n    const [messages, setMessages] = useState([]);\n\n    useLayoutEffect(() => {\n        navigation.setOptions({\n          title: \"Chat\",\n          // this will make it so there is no back button just the back arrow so it makes it look cleaner\n          headerBackTitleVisible: false,\n          headerTitleAlign: \"left\",\n          headerTitle: () => (\n            <View\n              style={{\n                flexDirection: \"row\",\n                alignItems: \"center\",\n              }}\n            >\n              <Avatar\n                rounded\n                source={{\n                  uri: messages[0]?.data.photoURL || \n                    \"https://i.pinimg.com/originals/51/f6/fb/51f6fb256629fc755b8870c801092942.png\",\n                }}\n              />\n              {/* this is how you have to do it if you want to pull it in instead of coming from title */}\n              <Text\n                style={{ color: \"blue\", marginLeft: 10, fontWeight: \"900\" }}\n              >\n                {route.params.chatName}\n              </Text>\n            </View>\n          ),\n          headerLeft: () => (\n            //   since its a touchable opacity and no longer the back button you have to pass in navigation.goBack so that it will go to the previous screen\n            <TouchableOpacity\n              style={{ marginLeft: 10 }}\n              onPress={navigation.goBack}\n            >\n              <AntDesign name=\"banckward\" size={24} color=\"white\" />\n            </TouchableOpacity>\n          ),\n          headerRight: () => (\n            <View\n            style={{\n                flexDirection: 'row',\n                justifyContent: 'space-between',\n                width: 80,\n                marginRight: 20,\n            }}\n            >\n            \n              <TouchableOpacity>\n                <FontAwesome name=\"video-camera\" size={24} color=\"white\" />\n              </TouchableOpacity>\n              <TouchableOpacity>\n                <Ionicons name=\"call\" size={24} color=\"white\" />\n              </TouchableOpacity>\n            </View>\n          ),\n        });\n    }, [navigation, route, messages])\n\n    const sendMessage = () => {\n        // have to import it , and it makes the keyboard disapear as you send messages , not sure if i want to keep it or not yet , may get very annoying \n        //  Keyboard.dismiss(); \n\n         db.collection('chats').doc(route.params.id).collection('messages').add({\n             timestamp: firebase.firestore.FieldValue.serverTimestamp(),\n             message: input,\n             displayName: auth.currentUser.displayName,\n             email: auth.currentUser.email,\n             photoURL: auth.currentUser.photoURL,\n         })\n         setInput('')\n    }\n\n    useLayoutEffect(() => {\n        const unsubscribe = db\n        .collection('chats')\n        .doc(route.params.id)\n        .collection('messages')\n        .orderBy('timestamp', 'desc')\n        .onSnapshot((snapshot) => setMessages(\n            snapshot.docs.map(doc => ({\n                id: doc.id,\n                data: doc.data(),\n            }))\n        ))\n        console.log(messages);\n        return unsubscribe;\n    }, [route])\n\n\n    return (\n      <SafeAreaView style={{ flex: 1, backgroundColor: \"white\" }}>\n        <StatusBar style=\"light\" />\n        {/* have to do keyboardavoidingview to make the keyboard go with it */}\n        <KeyboardAvoidingView\n          behavior={Platform.OS === \"ios\" ? \"padding\" : \"height\"}\n          style={styles.container}\n          keyboardVerticalOffset={90}\n        >\n          <TouchableWithoutFeedback onPress={Keyboard.dismiss}>\n            <>\n              <ScrollView contentContainerStyle={{ paddingTop: 15 }} >\n                {/* chat goes here  */}\n                {messages.map(({ id, data }) =>\n                  data.email === auth.currentUser.email ? (\n                    <View key={id} style={styles.reciever}>\n                      <Avatar\n                        position=\"absolute\"\n                        //   helps with web styling apparently\n                        containerStyle={{\n                          position: \"absolute\",\n                          bottom: -15,\n                          right: -5,\n                        }}\n                        bottom={-15}\n                        right={-5}\n                        size={30}\n                        rounded\n                        source={{\n                          uri: data.photoURL,\n                        }}\n                      />\n                      <Text style={styles.recieverText}>{data.message}</Text>\n                    </View>\n                  ) : (\n                    <View key={id} style={styles.sender}> <Avatar\n                        position=\"absolute\"\n                        // helps with webstyling apparently\n                        containerStyle={{\n                          position: \"absolute\",\n                          bottom: -15,\n                          left: -5,\n                        }}\n                        bottom={-15}\n                        left={-5}\n                        size={30}\n                        rounded\n                        source={{\n                          uri: data.photoURL,\n                        }}\n                      />\n                      <Text style={styles.senderText}>{data.message}</Text>\n                      <Text style={styles.senderName}>{data.displayName}</Text>\n                    </View>\n                  )\n                )}\n              </ScrollView>\n              <View style={styles.footer}>\n                <TextInput\n                  value={input}\n                  onChangeText={(text) => setInput(text)}\n                  placeholder=\"Signal Message\"\n                  style={styles.textInput}\n                //   no clue why but this makes the keyboard stay up when you type stuff out \n                  blurOnSubmit={false}\n                  onSubmitEditing={sendMessage}\n                />\n                {/*  */}\n                <TouchableOpacity onPress={sendMessage}>\n                  <Ionicons name=\"send\" size={24} color=\"#2B68E6\" />\n                </TouchableOpacity>\n              </View>\n            </>\n          </TouchableWithoutFeedback>\n        </KeyboardAvoidingView>\n      </SafeAreaView>\n    );\n}\n\nexport default ChatScreen\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  reciever: {\n    padding: 15,\n    backgroundColor: \"#ECECEC\",\n    alignSelf: \"flex-end\",\n    borderRadius: 20,\n    marginRight: 15,\n    marginBottom: 20,\n    maxWidth: \"80%\",\n    position: \"relative\",\n  },\n  sender: {\n    padding: 15,\n    backgroundColor: \"red\",\n    alignSelf: \"flex-start\",\n    borderRadius: 20,\n    margin: 15,\n    maxWidth: \"80%\",\n    position: \"relative\",\n  },\n  senderText: {\n    color: \"white\",\n    fontWeight: \"500\",\n    marginLeft: 10,\n    marginBottom: 15,\n  },\n  recieverText: {\n    color: \"black\",\n    fontWeight: \"500\",\n    marginLeft: 10,\n  },\n  senderName: {\n    left: 10,\n    paddingRight: 10,\n    fontSize: 10,\n    color: \"white\",\n  },\n  footer: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    width: \"100%\",\n    padding: 15,\n  },\n  textInput: {\n    //   put it to the bottom and give the text height 40\n    bottom: 0,\n    height: 40,\n    flex: 1,\n    // seperate the arrow and the text area\n    marginRight: 15,\n    // make the tex border transparent and the background grey\n    borderColor: \"transparent\",\n    backgroundColor: \"#ECECEC\",\n    // dont be so cramped\n    padding: 10,\n    // make the text color blue\n    color: \"blue\",\n    borderRadius: 30,\n  },\n});\n"]},"metadata":{},"sourceType":"module"}