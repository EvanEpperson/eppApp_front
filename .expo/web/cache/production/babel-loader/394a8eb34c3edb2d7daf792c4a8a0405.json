{"ast":null,"code":"import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import React,{useEffect,useState}from'react';import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import Text from\"react-native-web/dist/exports/Text\";import View from\"react-native-web/dist/exports/View\";import{ListItem,Avatar}from\"react-native-elements\";import{auth,db}from\"../firebase\";var CustomListItem=function CustomListItem(_ref){var _chatMessages$,_chatMessages$2,_chatMessages$3;var id=_ref.id,chatName=_ref.chatName,enterChat=_ref.enterChat;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),chatMessages=_useState2[0],setChatMessages=_useState2[1];useEffect(function(){var unsubscribe=db.collection('chats').doc(id).collection('messages').orderBy('timestamp','desc').onSnapshot(function(snapshot){return setChatMessages(snapshot.docs.map(function(doc){return doc.data();}));});return unsubscribe;});return React.createElement(ListItem,{key:id,onPress:function onPress(){return enterChat(id,chatName);},key:id,bottomDivider:true},React.createElement(Avatar,{rounded:true,source:{uri:(chatMessages==null?void 0:(_chatMessages$=chatMessages[0])==null?void 0:_chatMessages$.photoURL)||\"https://i.pinimg.com/originals/51/f6/fb/51f6fb256629fc755b8870c801092942.png\"}}),React.createElement(ListItem.Content,null,React.createElement(ListItem.Title,{style:{fontWeight:'800'}},chatName),React.createElement(ListItem.Subtitle,{numberOfLines:1,ellipsizeMode:\"tail\"},chatMessages==null?void 0:(_chatMessages$2=chatMessages[0])==null?void 0:_chatMessages$2.displayName,\"   \",chatMessages==null?void 0:(_chatMessages$3=chatMessages[0])==null?void 0:_chatMessages$3.message)));};export default CustomListItem;var styles=StyleSheet.create({});","map":{"version":3,"sources":["/Users/evanepperson/projectFolder/eppApp/components/CustomListItem.js"],"names":["React","useEffect","useState","ListItem","Avatar","auth","db","CustomListItem","id","chatName","enterChat","chatMessages","setChatMessages","unsubscribe","collection","doc","orderBy","onSnapshot","snapshot","docs","map","data","uri","photoURL","fontWeight","displayName","message","styles","StyleSheet","create"],"mappings":"iEAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,C,2KAEA,OAAQC,QAAR,CAAkBC,MAAlB,KAAgC,uBAAhC,CACA,OAASC,IAAT,CAAeC,EAAf,mBAGA,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,MAA+B,uDAA7BC,CAAAA,EAA6B,MAA7BA,EAA6B,CAAzBC,QAAyB,MAAzBA,QAAyB,CAAfC,SAAe,MAAfA,SAAe,eACZR,QAAQ,CAAC,EAAD,CADI,wCAC7CS,YAD6C,eAC/BC,eAD+B,eAIpDX,SAAS,CAAC,UAAM,CACd,GAAMY,CAAAA,WAAW,CAAGP,EAAE,CAACQ,UAAH,CAAc,OAAd,EAAuBC,GAAvB,CAA2BP,EAA3B,EAA+BM,UAA/B,CAA0C,UAA1C,EAAsDE,OAAtD,CAA8D,WAA9D,CAA2E,MAA3E,EAAmFC,UAAnF,CAA8F,SAAAC,QAAQ,QACxHN,CAAAA,eAAe,CAACM,QAAQ,CAACC,IAAT,CAAcC,GAAd,CAAkB,SAAAL,GAAG,QAAIA,CAAAA,GAAG,CAACM,IAAJ,EAAJ,EAArB,CAAD,CADyG,EAAtG,CAApB,CAGA,MAAOR,CAAAA,WAAP,CACD,CALQ,CAAT,CAOE,MAEE,qBAAC,QAAD,EAAU,GAAG,CAAEL,EAAf,CAAmB,OAAO,CAAE,yBAAME,CAAAA,SAAS,CAACF,EAAD,CAAKC,QAAL,CAAf,EAA5B,CAA2D,GAAG,CAAED,EAAhE,CAAoE,aAAa,KAAjF,EAEE,oBAAC,MAAD,EACE,OAAO,KADT,CAEE,MAAM,CAAE,CACNc,GAAG,CAAE,CAAAX,YAAY,MAAZ,wBAAAA,YAAY,CAAG,CAAH,CAAZ,8BAAmBY,QAAnB,GACH,8EAFI,CAFV,EAFF,CASE,oBAAC,QAAD,CAAU,OAAV,MACI,oBAAC,QAAD,CAAU,KAAV,EAAgB,KAAK,CAAE,CAAEC,UAAU,CAAE,KAAd,CAAvB,EAEKf,QAFL,CADJ,CAMI,oBAAC,QAAD,CAAU,QAAV,EACA,aAAa,CAAE,CADf,CAEA,aAAa,CAAC,MAFd,EAGKE,YAHL,+BAGKA,YAAY,CAAG,CAAH,CAHjB,eAGK,gBAAmBc,WAHxB,OAGwCd,YAHxC,+BAGwCA,YAAY,CAAG,CAAH,CAHpD,eAGwC,gBAAmBe,OAH3D,CANJ,CATF,CAFF,CA0BH,CArCD,CAuCA,cAAenB,CAAAA,cAAf,CAEA,GAAMoB,CAAAA,MAAM,CAAGC,UAAU,CAACC,MAAX,CAAkB,EAAlB,CAAf","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { StyleSheet, Text, View } from 'react-native'\nimport {ListItem, Avatar } from \"react-native-elements\"\nimport { auth, db } from \"../firebase\"\n\n\nconst CustomListItem = ({id, chatName, enterChat}) => {\n  const [chatMessages, setChatMessages] = useState([])\n\n\n  useEffect(() => {\n    const unsubscribe = db.collection('chats').doc(id).collection('messages').orderBy('timestamp', 'desc').onSnapshot(snapshot => \n      setChatMessages(snapshot.docs.map(doc => doc.data()))\n    )\n    return unsubscribe\n  })\n\n    return (\n        // this is the same as a li for the most part so far that i can understand \n      <ListItem key={id} onPress={() => enterChat(id, chatName)} key={id} bottomDivider >\n          {/* another picture that dipslays as already a circle and thats waht rounded does  */}\n        <Avatar\n          rounded\n          source={{\n            uri: chatMessages?.[0]?.photoURL ||\n              \"https://i.pinimg.com/originals/51/f6/fb/51f6fb256629fc755b8870c801092942.png\",\n          }}\n        />\n        <ListItem.Content>\n            <ListItem.Title style={{ fontWeight: '800'}}>\n              {/* passing through the chat name from the homescreen changes the hardcoded value to now the value that we made up  */}\n                {chatName}\n            </ListItem.Title >\n            {/* this will make it so that it has the three dots after the first line of text so that you know you have more to read but it wont go outside of the acutal box , also you put number of lines so that you can either have just 1 or as many as you would like  */}\n            <ListItem.Subtitle \n            numberOfLines={1} \n            ellipsizeMode=\"tail\" >\n                {chatMessages?.[0]?.displayName}   {chatMessages?.[0]?.message}\n            </ListItem.Subtitle>\n\n        </ListItem.Content>\n      </ListItem>\n    );\n}\n\nexport default CustomListItem\n\nconst styles = StyleSheet.create({})\n"]},"metadata":{},"sourceType":"module"}